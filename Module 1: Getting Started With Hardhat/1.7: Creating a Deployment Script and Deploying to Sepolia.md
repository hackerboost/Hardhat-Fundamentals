## Introduction

In this lesson, we’ll write a deployment script to deploy your `SimpleStorage` or `Lottery` smart contract to the **Sepolia** test network. We’ll then execute the script using Hardhat and verify the deployment on Etherscan.

---

## Step 1: Writing the Deployment Script

### 1. Create a New Script File
- In your project’s root directory, create a folder named `scripts` if it doesn’t exist.
- Inside the `scripts` folder, create a new file named `deploy.js`.

### 2. Add the Deployment Code
- Open `deploy.js` and add the following code:
  ```javascript
  const { ethers } = require("hardhat");

  async function main() {
      // Get the contract factory
      const SimpleStorage = await ethers.getContractFactory("SimpleStorage"); // Replace with "Lottery" if deploying the Lottery contract
      // Deploy the contract
      const simpleStorage = await SimpleStorage.deploy();
      await simpleStorage.deployed();

      console.log("SimpleStorage deployed to:", simpleStorage.address); // Replace SimpleStorage with your contract name
  }

  // Run the main function
  main()
      .then(() => process.exit(0))
      .catch((error) => {
          console.error(error);
          process.exit(1);
      });
  ```

### Explanation
- **ethers.getContractFactory**: Retrieves a contract factory for your smart contract.
- **deploy()**: Deploys the contract to the specified network and waits for it to be mined.
- **simpleStorage.address**: Logs the address where your contract is deployed.

---

## Step 2: Compiling the Contract

Before deploying, make sure your contract is compiled and ready.

- Run the following command to compile your contract:
  ```bash
  npx hardhat compile
  ```

### Common Issues
- If you see any errors during compilation, check your Solidity code for syntax errors or mismatched compiler versions.

---

## Step 3: Deploying to Sepolia

1. **Run the Deployment Script**
   - Use the following command to deploy your contract to the Sepolia test network:
     ```bash
     npx hardhat run scripts/deploy.js --network sepolia
     ```

2. **Expected Output**
   - If the deployment is successful, you’ll see a message like:
     ```bash
     SimpleStorage deployed to: 0xYourContractAddress
     ```
   - Copy and save the contract address, as you’ll need it for verification and interactions.

---

## Step 4: Verifying the Contract on Etherscan

### Why Verify Your Contract?
Verifying your contract on Etherscan allows anyone to view and interact with your smart contract's source code. It adds transparency and makes debugging easier.

### 1. Use Hardhat to Verify
- Run the following command to verify your contract:
  ```bash
  npx hardhat verify --network sepolia 0xYourContractAddress "constructor argument 1" "constructor argument 2"
  ```
- **Replace**:
  - **0xYourContractAddress**: The address where your contract was deployed.
  - **"constructor argument 1"**, **"constructor argument 2"**: If your contract’s constructor takes arguments, pass them here. If not, leave this part out.

### 2. Check Verification on Etherscan
- Visit [Sepolia Etherscan](https://sepolia.etherscan.io/) and search for your contract address to confirm the verification.

---

## Step 5: Troubleshooting Tips

1. **Deployment Fails**: 
   - Ensure your wallet has enough Sepolia ETH to cover the gas fees.
   - Check your Alchemy RPC URL and wallet private key in the `.env` file.

2. **Verification Fails**: 
   - Double-check the constructor arguments and ensure they match what was used during deployment.
   - Make sure the Etherscan API key in your `.env` file is correct.

---

## Wrapping Up

Congratulations! You’ve successfully deployed your smart contract to the Sepolia test network and verified it on Etherscan. Your contract is now live and can be interacted with using your wallet or Etherscan's interface.
